{"ast":null,"code":"var _jsxFileName = \"/Users/julien/Sites/react-ros-robot/src/components/Control.jsx\";\nimport React, { Component } from \"react\";\nimport Arm from \"./Buttons/Arm\";\nimport Takeoff from \"./Buttons/Takeoff\";\nimport Land from \"./Buttons/Land\";\nimport Hover from \"./Buttons/Hover\";\nimport Disarm from \"./Buttons/Disarm\";\nimport { Row, Col, Container, Button } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Control extends Component {\n  constructor() {\n    super();\n    this.state = {\n      isArmed: false\n    };\n    this.isArmed = this.state.isArmed;\n    this.init_connection();\n    this.land = this.land.bind(this);\n  }\n\n  init_connection() {\n    this.state.ros = new window.ROSLIB.Ros(); // Using window bc using CDN for ROSLIB and not NPM package\n\n    console.log(this.state.ros); // Changing changing button color according to connection state\n\n    this.state.ros.on(\"connection\", () => {\n      this.setState({\n        connected: true\n      });\n    });\n    this.state.ros.on(\"close\", () => {\n      this.setState({\n        connected: false\n      }); //try to reconnect every 2 seconds\n\n      setTimeout(() => {\n        try {\n          this.state.ros.connect(\"ws://\" + Config.ROSBRIDGE_SERVER_IP + \":\" + Config.ROSBRIDGE_SERVER_PORT + \"\");\n        } catch (error) {\n          console.log(\"connection problem\");\n        }\n      }, Config.RECONNECTION_TIMER);\n    });\n\n    try {\n      this.state.ros.connect(\"ws://\" + Config.ROSBRIDGE_SERVER_IP + \":\" + Config.ROSBRIDGE_SERVER_PORT + \"\");\n    } catch (error) {\n      console.log(\"connection problem\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-grid gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: this.isArmed ? /*#__PURE__*/_jsxDEV(Arm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 30\n        }, this) : /*#__PURE__*/_jsxDEV(Disarm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 44\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Takeoff, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Land, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Hover, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Control;","map":{"version":3,"sources":["/Users/julien/Sites/react-ros-robot/src/components/Control.jsx"],"names":["React","Component","Arm","Takeoff","Land","Hover","Disarm","Row","Col","Container","Button","Control","constructor","state","isArmed","init_connection","land","bind","ros","window","ROSLIB","Ros","console","log","on","setState","connected","setTimeout","connect","Config","ROSBRIDGE_SERVER_IP","ROSBRIDGE_SERVER_PORT","error","RECONNECTION_TIMER","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,GAAP,MAAgB,eAAhB;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,SAAnB,EAA8BC,MAA9B,QAA4C,iBAA5C;;;AAEA,MAAMC,OAAN,SAAsBV,SAAtB,CAAgC;AAG9BW,EAAAA,WAAW,GAAG;AACZ;AADY,SAFdC,KAEc,GAFN;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAEM;AAAA,SA+CdA,OA/Cc,GA+CJ,KAAKD,KAAL,CAAWC,OA/CP;AAEZ,SAAKC,eAAL;AAEA,SAAKC,IAAL,GAAY,KAAKA,IAAL,CAAUC,IAAV,CAAe,IAAf,CAAZ;AACD;;AAEDF,EAAAA,eAAe,GAAG;AAChB,SAAKF,KAAL,CAAWK,GAAX,GAAiB,IAAIC,MAAM,CAACC,MAAP,CAAcC,GAAlB,EAAjB,CADgB,CAC0B;;AAC1CC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAL,CAAWK,GAAvB,EAFgB,CAIhB;;AACA,SAAKL,KAAL,CAAWK,GAAX,CAAeM,EAAf,CAAkB,YAAlB,EAAgC,MAAM;AACpC,WAAKC,QAAL,CAAc;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAAd;AACD,KAFD;AAIA,SAAKb,KAAL,CAAWK,GAAX,CAAeM,EAAf,CAAkB,OAAlB,EAA2B,MAAM;AAC/B,WAAKC,QAAL,CAAc;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAAd,EAD+B,CAE/B;;AACAC,MAAAA,UAAU,CAAC,MAAM;AACf,YAAI;AACF,eAAKd,KAAL,CAAWK,GAAX,CAAeU,OAAf,CACE,UACEC,MAAM,CAACC,mBADT,GAEE,GAFF,GAGED,MAAM,CAACE,qBAHT,GAIE,EALJ;AAOD,SARD,CAQE,OAAOC,KAAP,EAAc;AACdV,UAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACD;AACF,OAZS,EAYPM,MAAM,CAACI,kBAZA,CAAV;AAaD,KAhBD;;AAkBA,QAAI;AACF,WAAKpB,KAAL,CAAWK,GAAX,CAAeU,OAAf,CACE,UACEC,MAAM,CAACC,mBADT,GAEE,GAFF,GAGED,MAAM,CAACE,qBAHT,GAIE,EALJ;AAOD,KARD,CAQE,OAAOC,KAAP,EAAc;AACdV,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACD;AACF;;AAIDW,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,8BACE,QAAC,GAAD;AAAA,kBAAM,KAAKpB,OAAL,gBAAe,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA,gBAAf,gBAA6B,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAnC;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,GAAD;AAAA,+BACE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAFF,eAKE,QAAC,GAAD;AAAA,+BACE,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cALF,eAQE,QAAC,GAAD;AAAA,+BACE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cARF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAcD;;AAnE6B;;AAsEhC,eAAeH,OAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Arm from \"./Buttons/Arm\";\nimport Takeoff from \"./Buttons/Takeoff\";\nimport Land from \"./Buttons/Land\";\nimport Hover from \"./Buttons/Hover\";\nimport Disarm from \"./Buttons/Disarm\";\nimport { Row, Col, Container, Button } from \"react-bootstrap\";\n\nclass Control extends Component {\n  state = { isArmed: false };\n\n  constructor() {\n    super();\n    this.init_connection();\n\n    this.land = this.land.bind(this);\n  }\n\n  init_connection() {\n    this.state.ros = new window.ROSLIB.Ros(); // Using window bc using CDN for ROSLIB and not NPM package\n    console.log(this.state.ros);\n\n    // Changing changing button color according to connection state\n    this.state.ros.on(\"connection\", () => {\n      this.setState({ connected: true });\n    });\n\n    this.state.ros.on(\"close\", () => {\n      this.setState({ connected: false });\n      //try to reconnect every 2 seconds\n      setTimeout(() => {\n        try {\n          this.state.ros.connect(\n            \"ws://\" +\n              Config.ROSBRIDGE_SERVER_IP +\n              \":\" +\n              Config.ROSBRIDGE_SERVER_PORT +\n              \"\"\n          );\n        } catch (error) {\n          console.log(\"connection problem\");\n        }\n      }, Config.RECONNECTION_TIMER);\n    });\n\n    try {\n      this.state.ros.connect(\n        \"ws://\" +\n          Config.ROSBRIDGE_SERVER_IP +\n          \":\" +\n          Config.ROSBRIDGE_SERVER_PORT +\n          \"\"\n      );\n    } catch (error) {\n      console.log(\"connection problem\");\n    }\n  }\n\n  isArmed = this.state.isArmed;\n\n  render() {\n    return (\n      <div className=\"d-grid gap-2\">\n        <Row>{this.isArmed ? <Arm></Arm> : <Disarm></Disarm>}</Row>\n        <Row>\n          <Takeoff></Takeoff>\n        </Row>\n        <Row>\n          <Land></Land>\n        </Row>\n        <Row>\n          <Hover></Hover>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default Control;\n"]},"metadata":{},"sourceType":"module"}