{"ast":null,"code":"/**\n * @fileoverview\n * @author Brandon Alexander - baalexander@gmail.com\n */\nvar Service = require('./Service');\n\nvar ServiceRequest = require('./ServiceRequest');\n/**\n * A ROS parameter.\n *\n * @constructor\n * @param options - possible keys include:\n *   * ros - the ROSLIB.Ros connection handle\n *   * name - the param name, like max_vel_x\n */\n\n\nfunction Param(options) {\n  options = options || {};\n  this.ros = options.ros;\n  this.name = options.name;\n}\n/**\n * Fetches the value of the param.\n *\n * @param callback - function with the following params:\n *  * value - the value of the param from ROS.\n */\n\n\nParam.prototype.get = function (callback) {\n  var paramClient = new Service({\n    ros: this.ros,\n    name: '/rosapi/get_param',\n    serviceType: 'rosapi/GetParam'\n  });\n  var request = new ServiceRequest({\n    name: this.name\n  });\n  paramClient.callService(request, function (result) {\n    var value = JSON.parse(result.value);\n    callback(value);\n  });\n};\n/**\n * Sets the value of the param in ROS.\n *\n * @param value - value to set param to.\n */\n\n\nParam.prototype.set = function (value, callback) {\n  var paramClient = new Service({\n    ros: this.ros,\n    name: '/rosapi/set_param',\n    serviceType: 'rosapi/SetParam'\n  });\n  var request = new ServiceRequest({\n    name: this.name,\n    value: JSON.stringify(value)\n  });\n  paramClient.callService(request, callback);\n};\n/**\n * Delete this parameter on the ROS server.\n */\n\n\nParam.prototype.delete = function (callback) {\n  var paramClient = new Service({\n    ros: this.ros,\n    name: '/rosapi/delete_param',\n    serviceType: 'rosapi/DeleteParam'\n  });\n  var request = new ServiceRequest({\n    name: this.name\n  });\n  paramClient.callService(request, callback);\n};\n\nmodule.exports = Param;","map":{"version":3,"sources":["/Users/julien/Sites/react-ros-robot/node_modules/roslib/src/core/Param.js"],"names":["Service","require","ServiceRequest","Param","options","ros","name","prototype","get","callback","paramClient","serviceType","request","callService","result","value","JSON","parse","set","stringify","delete","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AAEA,IAAIA,OAAO,GAAGC,OAAO,CAAC,WAAD,CAArB;;AACA,IAAIC,cAAc,GAAGD,OAAO,CAAC,kBAAD,CAA5B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASE,KAAT,CAAeC,OAAf,EAAwB;AACtBA,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AACA,OAAKC,GAAL,GAAWD,OAAO,CAACC,GAAnB;AACA,OAAKC,IAAL,GAAYF,OAAO,CAACE,IAApB;AACD;AAED;AACA;AACA;AACA;AACA;AACA;;;AACAH,KAAK,CAACI,SAAN,CAAgBC,GAAhB,GAAsB,UAASC,QAAT,EAAmB;AACvC,MAAIC,WAAW,GAAG,IAAIV,OAAJ,CAAY;AAC5BK,IAAAA,GAAG,EAAG,KAAKA,GADiB;AAE5BC,IAAAA,IAAI,EAAG,mBAFqB;AAG5BK,IAAAA,WAAW,EAAG;AAHc,GAAZ,CAAlB;AAMA,MAAIC,OAAO,GAAG,IAAIV,cAAJ,CAAmB;AAC/BI,IAAAA,IAAI,EAAG,KAAKA;AADmB,GAAnB,CAAd;AAIAI,EAAAA,WAAW,CAACG,WAAZ,CAAwBD,OAAxB,EAAiC,UAASE,MAAT,EAAiB;AAChD,QAAIC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWH,MAAM,CAACC,KAAlB,CAAZ;AACAN,IAAAA,QAAQ,CAACM,KAAD,CAAR;AACD,GAHD;AAID,CAfD;AAiBA;AACA;AACA;AACA;AACA;;;AACAZ,KAAK,CAACI,SAAN,CAAgBW,GAAhB,GAAsB,UAASH,KAAT,EAAgBN,QAAhB,EAA0B;AAC9C,MAAIC,WAAW,GAAG,IAAIV,OAAJ,CAAY;AAC5BK,IAAAA,GAAG,EAAG,KAAKA,GADiB;AAE5BC,IAAAA,IAAI,EAAG,mBAFqB;AAG5BK,IAAAA,WAAW,EAAG;AAHc,GAAZ,CAAlB;AAMA,MAAIC,OAAO,GAAG,IAAIV,cAAJ,CAAmB;AAC/BI,IAAAA,IAAI,EAAG,KAAKA,IADmB;AAE/BS,IAAAA,KAAK,EAAGC,IAAI,CAACG,SAAL,CAAeJ,KAAf;AAFuB,GAAnB,CAAd;AAKAL,EAAAA,WAAW,CAACG,WAAZ,CAAwBD,OAAxB,EAAiCH,QAAjC;AACD,CAbD;AAeA;AACA;AACA;;;AACAN,KAAK,CAACI,SAAN,CAAgBa,MAAhB,GAAyB,UAASX,QAAT,EAAmB;AAC1C,MAAIC,WAAW,GAAG,IAAIV,OAAJ,CAAY;AAC5BK,IAAAA,GAAG,EAAG,KAAKA,GADiB;AAE5BC,IAAAA,IAAI,EAAG,sBAFqB;AAG5BK,IAAAA,WAAW,EAAG;AAHc,GAAZ,CAAlB;AAMA,MAAIC,OAAO,GAAG,IAAIV,cAAJ,CAAmB;AAC/BI,IAAAA,IAAI,EAAG,KAAKA;AADmB,GAAnB,CAAd;AAIAI,EAAAA,WAAW,CAACG,WAAZ,CAAwBD,OAAxB,EAAiCH,QAAjC;AACD,CAZD;;AAcAY,MAAM,CAACC,OAAP,GAAiBnB,KAAjB","sourcesContent":["/**\n * @fileoverview\n * @author Brandon Alexander - baalexander@gmail.com\n */\n\nvar Service = require('./Service');\nvar ServiceRequest = require('./ServiceRequest');\n\n/**\n * A ROS parameter.\n *\n * @constructor\n * @param options - possible keys include:\n *   * ros - the ROSLIB.Ros connection handle\n *   * name - the param name, like max_vel_x\n */\nfunction Param(options) {\n  options = options || {};\n  this.ros = options.ros;\n  this.name = options.name;\n}\n\n/**\n * Fetches the value of the param.\n *\n * @param callback - function with the following params:\n *  * value - the value of the param from ROS.\n */\nParam.prototype.get = function(callback) {\n  var paramClient = new Service({\n    ros : this.ros,\n    name : '/rosapi/get_param',\n    serviceType : 'rosapi/GetParam'\n  });\n\n  var request = new ServiceRequest({\n    name : this.name\n  });\n\n  paramClient.callService(request, function(result) {\n    var value = JSON.parse(result.value);\n    callback(value);\n  });\n};\n\n/**\n * Sets the value of the param in ROS.\n *\n * @param value - value to set param to.\n */\nParam.prototype.set = function(value, callback) {\n  var paramClient = new Service({\n    ros : this.ros,\n    name : '/rosapi/set_param',\n    serviceType : 'rosapi/SetParam'\n  });\n\n  var request = new ServiceRequest({\n    name : this.name,\n    value : JSON.stringify(value)\n  });\n\n  paramClient.callService(request, callback);\n};\n\n/**\n * Delete this parameter on the ROS server.\n */\nParam.prototype.delete = function(callback) {\n  var paramClient = new Service({\n    ros : this.ros,\n    name : '/rosapi/delete_param',\n    serviceType : 'rosapi/DeleteParam'\n  });\n\n  var request = new ServiceRequest({\n    name : this.name\n  });\n\n  paramClient.callService(request, callback);\n};\n\nmodule.exports = Param;"]},"metadata":{},"sourceType":"script"}