{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shapeBoundsFactory = void 0;\n\nvar shape_enum_1 = require(\"../enums/shape.enum\");\n\nvar shapeBoundsFactory = function (shape, absoluteX, absoluteY, relativeX, relativeY, dist, radius, baseSize, parentRect) {\n  switch (shape) {\n    case shape_enum_1.JoystickShape.Square:\n      relativeX = getWithinBounds(absoluteX - parentRect.left - baseSize / 2, baseSize);\n      relativeY = getWithinBounds(absoluteY - parentRect.top - baseSize / 2, baseSize);\n      return {\n        relativeX: relativeX,\n        relativeY: relativeY\n      };\n\n    default:\n      if (dist > radius) {\n        relativeX *= radius / dist;\n        relativeY *= radius / dist;\n      }\n\n      return {\n        relativeX: relativeX,\n        relativeY: relativeY\n      };\n  }\n};\n\nexports.shapeBoundsFactory = shapeBoundsFactory;\n\nvar getWithinBounds = function (value, baseSize) {\n  var halfBaseSize = baseSize / 2;\n\n  if (value > halfBaseSize) {\n    return halfBaseSize;\n  }\n\n  if (value < -halfBaseSize) {\n    return halfBaseSize * -1;\n  }\n\n  return value;\n};","map":{"version":3,"mappings":";;;;;;;AAAA;;AAEO,IAAMA,kBAAkB,GAAG,UAC9BC,KAD8B,EAE9BC,SAF8B,EAG9BC,SAH8B,EAI9BC,SAJ8B,EAK9BC,SAL8B,EAM9BC,IAN8B,EAO9BC,MAP8B,EAQ9BC,QAR8B,EAS9BC,UAT8B,EASX;AACnB,UAAQR,KAAR;AACI,SAAKS,2BAAcC,MAAnB;AACIP,eAAS,GAAGQ,eAAe,CAACV,SAAS,GAAGO,UAAU,CAACI,IAAvB,GAA+BL,QAAQ,GAAG,CAA3C,EAA+CA,QAA/C,CAA3B;AACAH,eAAS,GAAGO,eAAe,CAACT,SAAS,GAAGM,UAAU,CAACK,GAAvB,GAA8BN,QAAQ,GAAG,CAA1C,EAA8CA,QAA9C,CAA3B;AACA,aAAO;AAACJ,iBAAS,WAAV;AAAYC,iBAAS;AAArB,OAAP;;AAEJ;AACI,UAAIC,IAAI,GAAGC,MAAX,EAAmB;AACfH,iBAAS,IAAIG,MAAM,GAAGD,IAAtB;AACAD,iBAAS,IAAIE,MAAM,GAAGD,IAAtB;AACH;;AACD,aAAO;AAACF,iBAAS,WAAV;AAAYC,iBAAS;AAArB,OAAP;AAXR;AAeH,CAzBM;;AAAMU,6BAAkBf,kBAAlB;;AA2Bb,IAAMY,eAAe,GAAG,UAACI,KAAD,EAAeR,QAAf,EAA8B;AAClD,MAAMS,YAAY,GAAGT,QAAQ,GAAG,CAAhC;;AACA,MAAGQ,KAAK,GAAGC,YAAX,EAAwB;AACpB,WAAOA,YAAP;AACH;;AACD,MAAGD,KAAK,GAAG,CAAEC,YAAb,EAA2B;AACvB,WAAOA,YAAY,GAAG,CAAC,CAAvB;AACH;;AACD,SAAOD,KAAP;AACH,CATD","names":["shapeBoundsFactory","shape","absoluteX","absoluteY","relativeX","relativeY","dist","radius","baseSize","parentRect","shape_enum_1","Square","getWithinBounds","left","top","exports","value","halfBaseSize"],"sources":["../../../src/shapes/shape.bounds.factory.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}